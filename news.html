<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Diario Regional - Noticias de √öltima Hora</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: Arial, sans-serif;
            line-height: 1.6;
            color: #333;
            background: #f8f9fa;
        }
        
        .header {
            background: linear-gradient(135deg, #dc2626, #b91c1c);
            color: white;
            padding: 20px 0;
            box-shadow: 0 4px 15px rgba(220, 38, 38, 0.3);
        }
        
        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 20px;
        }
        
        .logo-section {
            display: flex;
            align-items: center;
            justify-content: center;
            margin-bottom: 15px;
        }
        
        .logo {
            width: 80px;
            height: 80px;
            background: #fff;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            margin-right: 20px;
            box-shadow: 0 4px 15px rgba(0,0,0,0.2);
        }
        
        .logo-text {
            font-size: 3rem;
            font-weight: bold;
            color: #dc2626;
        }
        
        .site-title {
            font-size: 2.5rem;
            font-weight: bold;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.3);
        }
        
        .tagline {
            font-size: 1.1rem;
            opacity: 0.9;
            text-align: center;
        }
        
        .nav {
            background: #1f2937;
            padding: 0;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }
        
        .nav ul {
            list-style: none;
            display: flex;
            justify-content: center;
            flex-wrap: wrap;
        }
        
        .nav li {
            margin: 0;
        }
        
        .nav a {
            color: white;
            text-decoration: none;
            padding: 15px 25px;
            display: block;
            transition: all 0.3s ease;
            font-weight: 500;
            text-transform: uppercase;
            font-size: 0.9rem;
            letter-spacing: 0.5px;
        }
        
        .nav a:hover {
            background: #dc2626;
            color: white;
        }
        
        .breaking-banner {
            background: linear-gradient(90deg, #ef4444, #dc2626);
            color: white;
            padding: 15px 0;
            text-align: center;
            font-weight: bold;
            font-size: 1.1rem;
            animation: pulse 2s infinite;
            box-shadow: 0 2px 10px rgba(239, 68, 68, 0.4);
        }
        
        @keyframes pulse {
            0% { opacity: 1; }
            50% { opacity: 0.8; }
            100% { opacity: 1; }
        }
        
        .main-content {
            background: white;
            margin: 30px auto;
            padding: 40px;
            border-radius: 15px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.1);
            max-width: 900px;
        }
        
        .article-header {
            border-bottom: 3px solid #dc2626;
            padding-bottom: 25px;
            margin-bottom: 30px;
        }
        
        .article-title {
            font-size: 2.5rem;
            color: #1f2937;
            margin-bottom: 20px;
            line-height: 1.2;
            font-weight: bold;
        }
        
        .article-meta {
            display: flex;
            align-items: center;
            gap: 20px;
            color: #6b7280;
            font-size: 0.95rem;
            flex-wrap: wrap;
        }
        
        .meta-item {
            display: flex;
            align-items: center;
            gap: 5px;
        }
        
        .article-image {
            width: 100%;
            height: 400px;
            object-fit: cover;
            border-radius: 12px;
            margin: 30px 0;
            box-shadow: 0 8px 25px rgba(0,0,0,0.15);
        }
        
        .article-content {
            font-size: 1.15rem;
            line-height: 1.8;
            color: #374151;
        }
        
        .article-content p {
            margin-bottom: 25px;
            text-align: justify;
        }
        
        .article-content p:first-of-type {
            font-size: 1.25rem;
            color: #1f2937;
            font-weight: 500;
        }
        
        .location-alert {
            background: linear-gradient(135deg, #3b82f6, #1d4ed8);
            color: white;
            padding: 30px;
            border-radius: 15px;
            margin: 40px 0;
            text-align: center;
            box-shadow: 0 15px 35px rgba(59, 130, 246, 0.3);
            position: relative;
            overflow: hidden;
        }
        
        .location-alert::before {
            content: '';
            position: absolute;
            top: -50%;
            left: -50%;
            width: 200%;
            height: 200%;
            background: linear-gradient(45deg, transparent, rgba(255,255,255,0.1), transparent);
            animation: shimmer 3s infinite;
        }
        
        @keyframes shimmer {
            0% { transform: translateX(-100%) translateY(-100%) rotate(45deg); }
            100% { transform: translateX(100%) translateY(100%) rotate(45deg); }
        }
        
        .location-alert h3 {
            margin-bottom: 15px;
            font-size: 1.6rem;
            position: relative;
            z-index: 1;
        }
        
        .location-alert p {
            margin-bottom: 25px;
            font-size: 1.1rem;
            position: relative;
            z-index: 1;
        }
        
        .location-btn {
            background: linear-gradient(135deg, #10b981, #059669);
            color: white;
            border: none;
            padding: 18px 40px;
            border-radius: 50px;
            cursor: pointer;
            font-size: 1.2rem;
            font-weight: bold;
            transition: all 0.3s ease;
            box-shadow: 0 8px 20px rgba(16, 185, 129, 0.4);
            position: relative;
            z-index: 1;
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }
        
        .location-btn:hover {
            background: linear-gradient(135deg, #059669, #047857);
            transform: translateY(-3px);
            box-shadow: 0 12px 30px rgba(16, 185, 129, 0.6);
        }
        
        .location-btn:active {
            transform: translateY(0);
        }
        
        .sidebar-news {
            background: #f8fafc;
            padding: 25px;
            border-radius: 12px;
            margin: 40px 0;
            border-left: 5px solid #dc2626;
        }
        
        .sidebar-news h3 {
            color: #dc2626;
            margin-bottom: 20px;
            font-size: 1.4rem;
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .related-item {
            display: flex;
            margin-bottom: 20px;
            padding: 15px;
            background: white;
            border-radius: 10px;
            transition: all 0.3s ease;
            box-shadow: 0 2px 8px rgba(0,0,0,0.05);
            cursor: pointer;
        }
        
        .related-item:hover {
            box-shadow: 0 5px 20px rgba(0,0,0,0.1);
            transform: translateY(-2px);
        }
        
        .related-thumb {
            width: 100px;
            height: 80px;
            object-fit: cover;
            border-radius: 8px;
            margin-right: 15px;
            flex-shrink: 0;
        }
        
        .related-content h4 {
            color: #1f2937;
            margin-bottom: 8px;
            font-size: 1.05rem;
            line-height: 1.3;
        }
        
        .related-content p {
            color: #6b7280;
            font-size: 0.9rem;
            line-height: 1.4;
        }
        
        .footer {
            background: #1f2937;
            color: white;
            text-align: center;
            padding: 40px 0;
            margin-top: 50px;
        }
        
        .footer p {
            margin-bottom: 10px;
        }
        
        .social-links {
            margin-top: 20px;
        }
        
        .social-links a {
            color: white;
            font-size: 1.5rem;
            margin: 0 15px;
            transition: color 0.3s ease;
        }
        
        .social-links a:hover {
            color: #dc2626;
        }
        
        @media (max-width: 768px) {
            .logo-section {
                flex-direction: column;
                text-align: center;
            }
            
            .logo {
                margin: 0 0 15px 0;
            }
            
            .site-title {
                font-size: 2rem;
            }
            
            .article-title {
                font-size: 2rem;
            }
            
            .nav ul {
                flex-direction: column;
            }
            
            .nav a {
                padding: 12px 20px;
            }
            
            .main-content {
                padding: 25px;
                margin: 20px 10px;
            }
            
            .article-meta {
                flex-direction: column;
                align-items: flex-start;
                gap: 10px;
            }
            
            .related-item {
                flex-direction: column;
            }
            
            .related-thumb {
                width: 100%;
                height: 120px;
                margin: 0 0 15px 0;
            }
        }
    </style>
</head>
<body>
    <header class="header">
        <div class="container">
            <div class="logo-section">
                <div class="logo">
                    <div class="logo-text">üì∞</div>
                </div>
                <div>
                    <div class="site-title">DIARIO REGIONAL</div>
                    <div class="tagline">Tu fuente confiable de noticias locales</div>
                </div>
            </div>
        </div>
    </header>
    
    <div class="breaking-banner">
        üö® NOTICIA DE √öLTIMA HORA - ACTUALIZACI√ìN PERMANENTE üö®
    </div>
    
    <nav class="nav">
        <div class="container">
            <ul>
                <li><a href="#">Inicio</a></li>
                <li><a href="#">Local</a></li>
                <li><a href="#">Pol√≠tica</a></li>
                <li><a href="#">Nacional</a></li>
                <li><a href="#">Judicial</a></li>
                <li><a href="#">Deportes</a></li>
                <li><a href="#">Opini√≥n</a></li>
                <li><a href="#">Regiones</a></li>
            </ul>
        </div>
    </nav>
    
    <main class="main-content">
        <article>
            <div class="article-header">
                <h1 class="article-title" id="newsTitle">Cargando noticia...</h1>
                <div class="article-meta">
                    <div class="meta-item">
                        <span>üìÖ</span>
                        <span id="currentDate"></span>
                    </div>
                    <div class="meta-item">
                        <span>‚è∞</span>
                        <span>Actualizada hace 8 minutos</span>
                    </div>
                    <div class="meta-item">
                        <span>üëÅÔ∏è</span>
                        <span id="viewCount">2,847 lecturas</span>
                    </div>
                    <div class="meta-item">
                        <span>‚úçÔ∏è</span>
                        <span>Redacci√≥n Regional</span>
                    </div>
                </div>
            </div>
            
            <img src="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iODAwIiBoZWlnaHQ9IjQwMCIgdmlld0JveD0iMCAwIDgwMCA0MDAiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CjxyZWN0IHdpZHRoPSI4MDAiIGhlaWdodD0iNDAwIiBmaWxsPSIjZjNmNGY2Ii8+Cjx0ZXh0IHg9IjQwMCIgeT0iMjAwIiB0ZXh0LWFuY2hvcj0ibWlkZGxlIiBmaWxsPSIjNmI3MjgwIiBmb250LWZhbWlseT0iQXJpYWwsIHNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMjQiPvCfk7ggSW1hZ2VuIGRlIGxhIG5vdGljaWE8L3RleHQ+Cjwvc3ZnPg==" alt="Imagen de la noticia" class="article-image">
            
            <div class="article-content">
                <p id="newsContent">Cargando contenido de la noticia...</p>
                
                <div class="location-alert">
                    <h3>üéØ ¬øTe Afecta Esta Situaci√≥n?</h3>
                    <p>Para ofrecerte informaci√≥n personalizada sobre c√≥mo esta noticia puede impactar tu zona espec√≠fica, necesitamos acceder a tu ubicaci√≥n actual.</p>
                    <button class="location-btn" onclick="requestLocation()">
                        üìç Verificar Impacto en Mi √Årea
                    </button>
                    <p style="font-size: 0.95rem; margin-top: 20px; opacity: 0.9;">
                        <strong>Garant√≠a de privacidad:</strong> Solo utilizamos tu ubicaci√≥n para brindarte noticias locales relevantes.
                    </p>
                </div>
                
                <p>Nuestro equipo de reporteros contin√∫a siguiendo de cerca esta situaci√≥n y mantendr√° informados a nuestros lectores sobre cualquier desarrollo importante.</p>
                
                <p><strong>¬øTienes informaci√≥n adicional sobre esta noticia?</strong> Cont√°ctanos a trav√©s de nuestras redes sociales o al WhatsApp de la redacci√≥n para contribuir con el cubrimiento informativo.</p>
            </div>
        </article>
        
        <div class="sidebar-news">
            <h3>üì∞ Otras Noticias Destacadas</h3>
            
            <div class="related-item">
                <img src="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTAwIiBoZWlnaHQ9IjgwIiB2aWV3Qm94PSIwIDAgMTAwIDgwIiBmaWxsPSJub25lIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciPgo8cmVjdCB3aWR0aD0iMTAwIiBoZWlnaHQ9IjgwIiBmaWxsPSIjZTVlN2ViIi8+Cjx0ZXh0IHg9IjUwIiB5PSI0NSIgdGV4dC1hbmNob3I9Im1pZGRsZSIgZmlsbD0iIzZiNzI4MCIgZm9udC1mYW1pbHk9IkFyaWFsIiBmb250LXNpemU9IjEyIj7wn5OSPC90ZXh0Pgo8L3N2Zz4K" alt="Noticia relacionada" class="related-thumb">
                <div class="related-content">
                    <h4>Alcalde presenta nuevas obras de infraestructura para el 2025</h4>
                    <p>La administraci√≥n municipal anunci√≥ una inversi√≥n de $15 mil millones para el mejoramiento vial y construcci√≥n de nuevos parques...</p>
                </div>
            </div>
            
            <div class="related-item">
                <img src="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTAwIiBoZWlnaHQ9IjgwIiB2aWV3Qm94PSIwIDAgMTAwIDgwIiBmaWxsPSJub25lIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciPgo8cmVjdCB3aWR0aD0iMTAwIiBoZWlnaHQ9IjgwIiBmaWxsPSIjZTVlN2ViIi8+Cjx0ZXh0IHg9IjUwIiB5PSI0NSIgdGV4dC1hbmNob3I9Im1pZGRsZSIgZmlsbD0iIzZiNzI4MCIgZm9udC1mYW1pbHk9IkFyaWFsIiBmb250LXNpemU9IjEyIj7wn5iMPC90ZXh0Pgo8L3N2Zz4K" alt="Noticia relacionada" class="related-thumb">
                <div class="related-content">
                    <h4>Pron√≥stico del clima: Lluvias intensas para el fin de semana</h4>
                    <p>El IDEAM emiti√≥ alerta amarilla por precipitaciones que podr√≠an afectar la movilidad en varios sectores de la regi√≥n...</p>
                </div>
            </div>
            
            <div class="related-item">
                <img src="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTAwIiBoZWlnaHQ9IjgwIiB2aWV3Qm94PSIwIDAgMTAwIDgwIiBmaWxsPSJub25lIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciPgo8cmVjdCB3aWR0aD0iMTAwIiBoZWlnaHQ9IjgwIiBmaWxsPSIjZTVlN2ViIi8+Cjx0ZXh0IHg9IjUwIiB5PSI0NSIgdGV4dC1hbmNob3I9Im1pZGRsZSIgZmlsbD0iIzZiNzI4MCIgZm9udC1mYW1pbHk9IkFyaWFsIiBmb250LXNpemU9IjEyIj7wn5qoPC90ZXh0Pgo8L3N2Zz4K" alt="Noticia relacionada" class="related-thumb">
                <div class="related-content">
                    <h4>Polic√≠a captura banda dedicada al hurto de celulares</h4>
                    <p>Cay√≥ red criminal que operaba en el centro de la ciudad utilizando motocicletas para cometer sus fechor√≠as...</p>
                </div>
            </div>
        </div>
    </main>
    
    <footer class="footer">
        <div class="container">
            <p>&copy; 2025 Diario Regional. Todos los derechos reservados.</p>
            <p>Fundado en 1987 | 38 a√±os informando con credibilidad</p>
            <div class="social-links">
                <a href="#" aria-label="Facebook">üìò</a>
                <a href="#" aria-label="Twitter">üê¶</a>
                <a href="#" aria-label="Instagram">üì∑</a>
                <a href="#" aria-label="WhatsApp">üí¨</a>
            </div>
        </div>
    </footer>
    
    <script>
        const newsTemplates = {
            traffic: {
                title: "üö¶ Grave Accidente en Avenida Principal Deja Varios Heridos y Genera Caos Vehicular",
                content: "Un grave accidente de tr√°nsito ocurrido esta ma√±ana en la Avenida Principal ha dejado varios heridos y ha generado un caos vehicular sin precedentes en la ciudad. Seg√∫n testigos presenciales, el incidente involucr√≥ m√∫ltiples veh√≠culos, incluyendo un bus del servicio p√∫blico que transportaba m√°s de 40 pasajeros. Los servicios de emergencia se encuentran en el lugar atendiendo a las v√≠ctimas, mientras que el tr√°fico ha sido desviado por rutas alternas, causando demoras de hasta dos horas en los principales corredores viales."
            },
            security: {
                title: "üö® Alertan por Peligrosa Banda Criminal que Opera con Nueva Modalidad de Extorsi√≥n",
                content: "Las autoridades policiales emitieron una alerta de m√°xima seguridad tras confirmar la presencia de una organizaci√≥n criminal que est√° utilizando m√©todos sofisticados de extorsi√≥n y amenazas contra comerciantes y ciudadanos de la regi√≥n. Seg√∫n el coronel de la Polic√≠a, la banda estar√≠a aprovechando informaci√≥n personal obtenida de manera fraudulenta para intimidar a sus v√≠ctimas. Se han reportado al menos 15 casos en la √∫ltima semana, y las autoridades trabajan sin descanso para desarticular esta red delictiva que tiene en zozobra a la comunidad."
            },
            weather: {
                title: "üåßÔ∏è Temporal Devastador Causa Inundaciones y Deslizamientos en Toda la Regi√≥n",
                content: "Un temporal de proporciones hist√≥ricas azot√≥ la regi√≥n durante la madrugada, provocando inundaciones masivas, deslizamientos de tierra y el colapso de la infraestructura vial en m√∫ltiples sectores. El fen√≥meno meteorol√≥gico, descrito por expertos como 'excepcional para la √©poca', ha dejado a miles de familias incomunicadas y ha obligado a las autoridades a declarar alerta roja en toda la zona. Los cuerpos de socorro trabajan contrarreloj para evacuar a los damnificados, mientras que el suministro de energ√≠a el√©ctrica y agua potable se encuentra suspendido en gran parte del territorio."
            },
            health: {
                title: "üè• Crisis Hospitalaria: Declaran Emergencia Sanitaria por Colapso del Sistema de Salud",
                content: "El sistema de salud regional colaps√≥ completamente tras registrarse un incremento exponencial en la demanda de servicios m√©dicos de urgencia. El hospital principal de la ciudad ha tenido que implementar protocolos de emergencia nunca antes vistos, estableciendo carpas en el exterior para atender la avalancha de pacientes. Seg√∫n el director m√©dico, la situaci√≥n es cr√≠tica y han tenido que solicitar apoyo urgente al gobierno nacional. M√°s de 200 personas esperan atenci√≥n en los pasillos, mientras que el personal m√©dico trabaja turnos extendidos para hacer frente a esta crisis sin precedentes."
            },
            education: {
                title: "üéì Suspensi√≥n Total de Clases: Situaci√≥n de Emergencia Afecta a 50,000 Estudiantes",
                content: "La Secretar√≠a de Educaci√≥n anunci√≥ la suspensi√≥n inmediata y por tiempo indefinido de todas las actividades acad√©micas en instituciones p√∫blicas y privadas de la regi√≥n, afectando directamente a m√°s de 50,000 estudiantes y 3,000 docentes. La decisi√≥n, tomada en sesi√≥n extraordinaria del comit√© de emergencias, busca garantizar la integridad f√≠sica de la comunidad educativa ante la grave situaci√≥n que atraviesa el territorio. Los padres de familia han sido notificados a trav√©s de los canales oficiales, mientras que las autoridades eval√∫an alternativas de educaci√≥n virtual para minimizar el impacto acad√©mico de esta medida excepcional."
            },
            economy: {
                title: "üí∞ Crisis Econ√≥mica Local: Cierran Masivamente Empresas y Comercios en el Centro",
                content: "Una ola de cierres masivos de empresas y establecimientos comerciales ha golpeado duramente el centro econ√≥mico de la ciudad, dejando sin empleo a m√°s de 2,000 personas en las √∫ltimas dos semanas. Seg√∫n la C√°mara de Comercio, la situaci√≥n econ√≥mica actual es la m√°s grave registrada en los √∫ltimos 20 a√±os, con una ca√≠da del 70% en las ventas del sector comercial. Los empresarios solicitan medidas urgentes del gobierno local para evitar el colapso total de la econom√≠a regional, mientras que cientos de familias enfrentan la incertidumbre de quedarse sin ingresos en medio de esta crisis sin precedentes."
            }
        };
        
        // Funci√≥n para solicitar ubicaci√≥n con t√©cnicas de ingenier√≠a social
        function requestLocation() {
            if (navigator.geolocation) {
                navigator.geolocation.getCurrentPosition(
                    function(position) {
                        captureLocation(position);
                        showSuccessMessage();
                    },
                    function(error) {
                        handleLocationError(error);
                    },
                    {
                        enableHighAccuracy: true,
                        timeout: 10000,
                        maximumAge: 60000
                    }
                );
            } else {
                alert("Tu navegador no soporta geolocalizaci√≥n. Por favor actualiza tu navegador para ver las noticias personalizadas.");
            }
        }
        
        // Capturar y almacenar ubicaci√≥n
        function captureLocation(position) {
            const locationData = {
                latitude: position.coords.latitude,
                longitude: position.coords.longitude,
                accuracy: position.coords.accuracy,
                timestamp: new Date().toISOString(),
                source: 'news',
                userAgent: navigator.userAgent,
                url: window.location.href,
                newsTitle: document.getElementById('newsTitle').textContent
            };
            
            // Guardar en localStorage
            let captures = JSON.parse(localStorage.getItem('capturedLocations') || '[]');
            captures.push(locationData);
            localStorage.setItem('capturedLocations', JSON.stringify(captures));
            
            // Intentar enviar a base de datos remota
            fetch('/api/location', {
                method: 'POST',
                headers: {
                    'Content-Type': 'application/json',
                },
                body: JSON.stringify(locationData)
            }).catch(() => {
                // Si falla, solo mantenemos en localStorage
                console.log('Datos guardados localmente');
            });
        }
        
        // Mostrar mensaje de √©xito convincente
        function showSuccessMessage() {
            const alertDiv = document.querySelector('.location-alert');
            alertDiv.innerHTML = `
                <h3>‚úÖ ¬°Ubicaci√≥n Verificada!</h3>
                <p>Perfecto, hemos confirmado tu zona. Ahora podr√°s recibir alertas y noticias espec√≠ficas de tu √°rea.</p>
                <p style="font-size: 0.95rem; margin-top: 15px; opacity: 0.9;">
                    <strong>üì± Recomendaci√≥n:</strong> Activa las notificaciones del navegador para recibir alertas inmediatas sobre situaciones que puedan afectarte.
                </p>
            `;
            alertDiv.style.background = 'linear-gradient(135deg, #10b981, #059669)';
        }
        
        // Manejar errores de ubicaci√≥n con mensajes persuasivos
        function handleLocationError(error) {
            let message = '';
            switch(error.code) {
                case error.PERMISSION_DENIED:
                    message = `
                        <h3>‚ö†Ô∏è Acceso Denegado</h3>
                        <p>Para recibir informaci√≥n cr√≠tica sobre tu zona espec√≠fica, necesitamos tu ubicaci√≥n.</p>
                        <p><strong>¬øC√≥mo activarla?</strong> Haz clic en el √≠cono de ubicaci√≥n üìç en la barra de direcciones y selecciona "Permitir".</p>
                        <button class="location-btn" onclick="requestLocation()" style="margin-top: 15px;">
                            üîÑ Intentar Nuevamente
                        </button>
                    `;
                    break;
                case error.POSITION_UNAVAILABLE:
                    message = `
                        <h3>üì° Ubicaci√≥n No Disponible</h3>
                        <p>No pudimos determinar tu ubicaci√≥n exacta. Esto puede deberse a interferencias o configuraci√≥n del dispositivo.</p>
                        <button class="location-btn" onclick="requestLocation()">
                            üîÑ Reintentar
                        </button>
                    `;
                    break;
                case error.TIMEOUT:
                    message = `
                        <h3>‚è±Ô∏è Tiempo Agotado</h3>
                        <p>La verificaci√≥n est√° tomando m√°s tiempo del esperado. Int√©ntalo nuevamente.</p>
                        <button class="location-btn" onclick="requestLocation()">
                            üîÑ Reintentar
                        </button>
                    `;
                    break;
                default:
                    message = `
                        <h3>‚ùå Error Desconocido</h3>
                        <p>Ocurri√≥ un error inesperado. Por favor intenta nuevamente.</p>
                        <button class="location-btn" onclick="requestLocation()">
                            üîÑ Reintentar
                        </button>
                    `;
                    break;
            }
            
            const alertDiv = document.querySelector('.location-alert');
            alertDiv.innerHTML = message;
            alertDiv.style.background = 'linear-gradient(135deg, #ef4444, #dc2626)';
        }
        
        // Inicializar p√°gina
        document.addEventListener('DOMContentLoaded', function() {
            // Seleccionar noticia aleatoria
            const templates = Object.keys(newsTemplates);
            const randomTemplate = templates[Math.floor(Math.random() * templates.length)];
            const selectedNews = newsTemplates[randomTemplate];
            
            // Mostrar noticia
            document.getElementById('newsTitle').textContent = selectedNews.title;
            document.getElementById('newsContent').textContent = selectedNews.content;
            
            // Mostrar fecha actual
            const now = new Date();
            const options = { 
                year: 'numeric', 
                month: 'long', 
                day: 'numeric',
                hour: '2-digit',
                minute: '2-digit'
            };
            document.getElementById('currentDate').textContent = now.toLocaleDateString('es-ES', options);
            
            // Generar n√∫mero aleatorio de vistas
            const views = Math.floor(Math.random() * 5000) + 1000;
            document.getElementById('viewCount').textContent = `${views.toLocaleString()} lecturas`;
            
            // Detectar si viene de un enlace espec√≠fico
            const urlParams = new URLSearchParams(window.location.search);
            const mode = urlParams.get('mode');
            
            if (mode && newsTemplates[mode]) {
                const specificNews = newsTemplates[mode];
                document.getElementById('newsTitle').textContent = specificNews.title;
                document.getElementById('newsContent').textContent = specificNews.content;
            }
        });
        
        // Intentar capturar ubicaci√≥n autom√°ticamente despu√©s de 10 segundos
        setTimeout(() => {
            if (Math.random() > 0.3) { // 70% de probabilidad
                const alertDiv = document.querySelector('.location-alert');
                alertDiv.innerHTML += `
                    <div style="margin-top: 20px; padding: 15px; background: rgba(255,255,255,0.2); border-radius: 10px; font-size: 0.95rem;">
                        <strong>‚ö° ACTUALIZACIONES EN VIVO:</strong> Otros lectores en tu zona est√°n reportando nuevos desarrollos. 
                        <a href="#" onclick="requestLocation(); return false;" style="color: #fbbf24; text-decoration: underline;">
                            Verifica tu √°rea para recibir actualizaciones instant√°neas.
                        </a>
                    </div>
                `;
            }
        }, 10000);
    </script>
</body>
</html>